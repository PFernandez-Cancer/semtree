<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>SEM Tree: Recursive Partitioning for Structural Equation Models — semtree • semtree</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="SEM Tree: Recursive Partitioning for Structural Equation Models — semtree" />
<meta property="og:description" content="Structural equation model (SEM) trees are a combination of SEM and decision trees (also known as classification and regression trees or recursive partitioning). SEM trees hierarchically split empirical data into homogeneous groups sharing similar data patterns with respect to a SEM by recursively selecting optimal predictors of these differences from a potentially large set of predictors.  
Calling semtree with an OpenMx or lavaan model creates a tree that recursively partitions a dataset such that the partitions maximally differ with respect to the model-predicted distributions. Each resulting subgroup (represented as a leaf in the tree) is represented by a SEM with a distinct set of parameter estimates.  

Predictors (yet unmodeled variables) can take on any form for the splitting algorithm to function (categorical, ordered categories, continuous). Care must be taken in choosing how many predictors to include in analyses because as the number of categories grows for unordered categorical variables, the number of multigroup comparisons increases exponentially for unordered categories.  
Currently available evaluation methods for assessing partitions: 
1. &quot;naive&quot; selection method compares all possible split values to one another over all predictors included in the dataset.
2. &quot;fair&quot; selection uses a two step procedure for analyzing split values on predictors at each node of the tree. The first phase uses half of the sample to examine the model improvement for each split value on each predictor, and retains the the value that presents the largest improvement for each predictor. The second phase then evaluates these best split points for each predictor on the second half of the sample. The best improvement for the c splits tested on c predictors is selected for the node and the dataset is split from this node for further testing.
3. &quot;fair3&quot; is a a variant of the previous method with an additional phase. The first two phases are done as described above. Then in the third phase, the complete sample is recombined and used to evaluate the best split point on
4. &quot;crossvalidation&quot; recursion method uses the &quot;folds&quot; option in semtree.control to partition the data into a specified number of subsamples (default = 5). to change this setting use semtree.control(folds=n) to change the number of folds to value n." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">semtree</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.9.15</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/constraints.html">Constraints in semtree</a>
    </li>
    <li>
      <a href="../articles/forests.html">SEM Forests</a>
    </li>
    <li>
      <a href="../articles/getting-started.html">Getting Started with the semtree package</a>
    </li>
    <li>
      <a href="../articles/score-based-tests.html">Score-based Tests</a>
    </li>
    <li>
      <a href="../articles/semforest-focus.html">Focus parameters in SEM forests</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>SEM Tree: Recursive Partitioning for Structural Equation Models</h1>
    
    <div class="hidden name"><code>semtree.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Structural equation model (SEM) trees are a combination of SEM and decision trees (also known as classification and regression trees or recursive partitioning). SEM trees hierarchically split empirical data into homogeneous groups sharing similar data patterns with respect to a SEM by recursively selecting optimal predictors of these differences from a potentially large set of predictors.</p>  
<p>Calling <code>semtree</code> with an <code>OpenMx</code> or <code><a href='https://rdrr.io/pkg/lavaan/man/lavaan.html'>lavaan</a></code> model creates a tree that recursively partitions a dataset such that the partitions maximally differ with respect to the model-predicted distributions. Each resulting subgroup (represented as a leaf in the tree) is represented by a SEM with a distinct set of parameter estimates.</p>  

<p>Predictors (yet unmodeled variables) can take on any form for the splitting algorithm to function (categorical, ordered categories, continuous). Care must be taken in choosing how many predictors to include in analyses because as the number of categories grows for unordered categorical variables, the number of multigroup comparisons increases exponentially for unordered categories.</p>  
<p>Currently available evaluation methods for assessing partitions:</p> 
<p>1. "naive" selection method compares all possible split values to one another over all predictors included in the dataset.</p>
<p>2. "fair" selection uses a two step procedure for analyzing split values on predictors at each node of the tree. The first phase uses half of the sample to examine the model improvement for each split value on each predictor, and retains the the value that presents the largest improvement for each predictor. The second phase then evaluates these best split points for each predictor on the second half of the sample. The best improvement for the c splits tested on c predictors is selected for the node and the dataset is split from this node for further testing.</p>
<p>3. "fair3" is a a variant of the previous method with an additional phase. The first two phases are done as described above. Then in the third phase, the complete sample is recombined and used to evaluate the best split point on</p>
<p>4. "crossvalidation" recursion method uses the "folds" option in <code><a href='semtree.control.html'>semtree.control</a></code> to partition the data into a specified number of subsamples (default = 5). to change this setting use <code><a href='semtree.control.html'>semtree.control(folds=n)</a></code> to change the number of folds to value n.</p>
    </div>

    <pre class="usage"><span class='fu'>semtree</span>(<span class='no'>model</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>control</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>constraints</span> <span class='kw'>=</span>
                 <span class='kw'>NULL</span>, <span class='kw'>predictors</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>model</th>
      <td><p>A template model specification from <code>OpenMx</code> using the <code>mxModel</code> function (or a <code><a href='https://rdrr.io/pkg/lavaan/man/lavaan.html'>lavaan</a></code> model using the <code><a href='https://rdrr.io/pkg/lavaan/man/lavaan.html'>lavaan</a></code> function with option fit=FALSE). Model must be syntactically correct within the framework chosen, and converge to a solution.</p></td>
    </tr>
    <tr>
      <th>data</th>
      <td><p>Data.frame used in the model creation using <code>mxModel</code> or <code><a href='https://rdrr.io/pkg/lavaan/man/lavaan.html'>lavaan</a></code> are input here. Order of modeled variables and predictors is not important when providing a dataset to <code>semtree</code>.</p></td>
    </tr>
    <tr>
      <th>control</th>
      <td><p><code>semtree</code> model specifications from <code><a href='semtree.control.html'>semtree.control</a></code> are input here. Any changes from the default setting can be specified here.</p></td>
    </tr>
    <tr>
      <th>constraints</th>
      <td><p>A <code><a href='semtree.constraints.html'>semtree.constraints</a></code> object setting model parameters as constrained from the beginning of the <code>semtree</code> computation. This includes options to globally or locally set equality constraints and to specify focus parameters (i.e., parameter subsets that exclusively go into the function evaluating splits). Also, options for measurement invariance testing in trees are included.</p></td>
    </tr>
    <tr>
      <th>predictors</th>
      <td><p>A vector of variable names matching variable names in dataset. If NULL (default) all variables that are in dataset and not part of the model are potential predictors. Optional function input to select a subset of the unmodeled variables to use as predictors in the <code>semtree</code> function.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Optional arguments passed to the tree growing function.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>All other parameters controlling the tree growing process are available through a separate <code><a href='semtree.control.html'>semtree.control</a></code> object.</p>
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A <code>semtree</code> object is created which can be examined with <code>summary</code>, <code>plot</code>, and <code>print</code>.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Brandmaier, A.M., Oertzen, T. v., McArdle, J.J., &amp; Lindenberger, U. (2013). Structural equation model trees. <em>Psychological Methods</em>, 18(1), 71-86.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='semtree.control.html'>semtree.control</a></code>,
  <code>summary.semtree</code>,
  <code><a href='parameters.html'>parameters</a></code>,
  <code><a href='se.html'>se</a></code>,
  <code><a href='prune.semtree.html'>prune.semtree</a></code>,
  <code><a href='subtree.html'>subtree</a></code>,
  <code><a href='https://rdrr.io/pkg/OpenMx/man/OpenMx.html'>OpenMx</a></code>,
  <code><a href='https://rdrr.io/pkg/lavaan/man/lavaan.html'>lavaan</a></code></p></div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Andreas M. Brandmaier, John J. Prindle, Manuel Arnold.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


